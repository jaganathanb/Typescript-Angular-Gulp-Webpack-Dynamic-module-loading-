{"version":3,"sources":["app.moduleProvider.ts"],"names":["ModuleProvider","ModuleProvider.constructor","ModuleProvider.$get","ModuleProvider.register"],"mappings":"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WAAWA,CAACA,CAACA;wBACjDA,SAASA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA,CAACA,MAAMA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;oBAElDA,CAACA;gBAEFA,CAAEA;gBAAAA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACZA,EAAEA,CAACA,CAACA,CAACA,CAACA,OAAOA,CAACA,CAACA,CAACA;wBACfA,CAACA,CAACA,OAAOA,IAAIA,QAAQA,GAAGA,UAAUA,CAACA;oBACpCA,CAACA;oBACDA,MAAMA,CAACA,CAACA,CAACA,OAAOA,CAACA;oBACjBA,MAAMA,CAACA,CAACA;gBACTA,CAACA;gBACDA,WAAWA,CAACA,GAAGA,EAAEA,CAACA;YACnBA,CAACA;YACDA,OAAOA,CAACA,OAAOA,CAACA,SAASA,EAAEA,UAASA,EAAEA;gBACrC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAChC,CAAC,CAACA,CAACA;QACJA,CAACA;QACDA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IACFH,qBAACA;AAADA,CArEA,AAqECA,IAAA;AAED,cAAc,CAAC,OAAO,GAAG,CAAC,qBAAqB,EAAE,UAAU,EAAE,kBAAkB,EAAE,iBAAiB,EAAE,WAAW,EAAE,gBAAgB,CAAC,CAAC;AAEnI,iBAAS,cAAc,CAAC","file":"app.moduleProvider.js","sourcesContent":["/// <reference path=\"typings/tsd.d.ts\" />\r\n/// <reference path=\"typings/tagw.d.ts\" />\r\n\r\nclass ModuleProvider {\r\n\tprivate _providers: any = {};\r\n\tprivate _modulesLoaded: Array<string> = [];\r\n\r\n\tconstructor($controllerProvider: ng.IControllerProvider, $provide: ng.IServiceProvider, $compileProvider: ng.ICompileProvider, $filterProvider: ng.IFilterProvider, $injector: ng.IInjectStatic, $routeProvider: any) {\r\n\t\tthis._providers.$controllerProvider = $controllerProvider;\r\n\t\tthis._providers.$provide = $provide;\r\n\t\tthis._providers.$compileProvider = $compileProvider;\r\n\t\tthis._providers.$filterProvider = $filterProvider;\r\n\t\tthis._providers.$injector = $injector;\r\n\t\tthis._providers.$routeProvider = $routeProvider;\r\n\r\n\t\tthis.$get.$inject = ['$q', '$rootScope'];\r\n\t}\r\n\r\n\t$get($q: ng.IQService, $rootScope: any) {\r\n\r\n\t\treturn {\r\n\t\t\tloadModule: (config: any) => {\r\n\t\t\t\tthis.register(this._providers, [config.name]);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tregister(providers: any, moduleNames: Array<string>): string {\r\n\t\tvar i, ii, k, invokeQueue, moduleName, moduleFn, invokeArgs, provider;\r\n\t\tif (moduleNames) {\r\n\t\t\tvar runBlocks = [];\r\n\t\t\tfor (k = moduleNames.length - 1; k >= 0; k--) {\r\n\t\t\t\tmoduleName = moduleNames[k];\r\n\t\t\t\tmoduleFn = angular.module(moduleName);\r\n\t\t\t\tif (this._modulesLoaded.indexOf(moduleName) >= 0) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tthis._modulesLoaded.push(moduleName);\r\n\t\t\t\trunBlocks = runBlocks.concat(moduleFn._runBlocks);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor (invokeQueue = moduleFn._invokeQueue, i = 0, ii = invokeQueue.length; i < ii; i++) {\r\n\t\t\t\t\t\tinvokeArgs = invokeQueue[i];\r\n\r\n\t\t\t\t\t\tif (providers.hasOwnProperty(invokeArgs[0])) {\r\n\t\t\t\t\t\t\tprovider = providers[invokeArgs[0]];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn 'Unknow provider!';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tprovider[invokeArgs[1]].apply(provider, invokeArgs[2]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (var configIndex = 0; configIndex < moduleFn._configBlocks.length; configIndex++) {\r\n\t\t\t\t\t\tvar config = moduleFn._configBlocks[configIndex];\r\n\t\t\t\t\t\tproviders[config[0]][config[1]](config[2][0][1]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tif (e.message) {\r\n\t\t\t\t\t\te.message += ' from ' + moduleName;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn e.message;\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t\tmoduleNames.pop();\r\n\t\t\t}\r\n\t\t\tangular.forEach(runBlocks, function(fn) {\r\n\t\t\t\tproviders.$injector.invoke(fn);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nModuleProvider.$inject = ['$controllerProvider', '$provide', '$compileProvider', '$filterProvider', '$injector', '$routeProvider'];\r\n\r\nexport = ModuleProvider;"],"sourceRoot":"/source/"}